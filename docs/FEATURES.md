# 🎯 系统功能总结

本项目包含两个独立的智能系统，分别服务于不同的用户群体。

---

## 🤖 系统一：Telegram 餐厅推荐机器人

### 📱 目标用户
- 学生、教职工、访客
- 需要快速找到合适餐厅的人群
- 希望获得个性化餐饮建议的用户

### ✨ 核心功能

#### 1. **智能餐厅推荐**
- 基于用户自然语言查询，理解需求并推荐合适餐厅
- 支持中英文双语查询和响应
- 自动识别用户语言偏好，匹配对应语言回复
- 一次推荐1-3家最匹配的餐厅

#### 2. **多维度筛选**
- **价格筛选**：根据预算范围推荐（如"10块以内"、"under $15"）
- **口味筛选**：辣度偏好（不辣、微辣、重辣）
- **菜系筛选**：支持川菜、粤菜、日料、韩餐、西餐等多种菜系
- **饮食限制**：
  - 清真（Halal）食品筛选
  - 素食（Vegetarian）选项筛选
- **位置筛选**：按食堂或美食广场位置查找（North Spine、The Hive等）

#### 3. **实时信息展示**
- **餐厅基本信息**：名称、位置、菜系类型
- **价格信息**：价格区间和人均消费
- **推荐菜品**：每家餐厅的特色招牌菜
- **排队时间**：实时估算的等待时长
- **特殊标识**：Halal认证、素食选项等

#### 4. **AI 驱动的个性化推荐**
- 使用 Deepseek LLM 分析用户需求
- 生成自然、口语化的推荐说明
- 提供推荐理由，帮助用户做出选择
- 考虑多个因素综合推荐（价格、口味、排队、位置）

#### 5. **用户友好交互**
- `/start` 命令：显示欢迎信息和使用指南
- `/help` 命令：查看详细帮助文档和示例
- 自然语言交互，无需学习特殊指令
- 即时响应，秒级返回推荐结果

#### 6. **查询示例**

**中文查询：**
- "推荐不辣的餐厅，10块钱以内"
- "北脊广场有什么好吃的？"
- "想吃清真餐厅，预算15块"
- "找个排队少的西餐"

**英文查询：**
- "I want halal food under 10 dollars"
- "Recommend vegetarian options"
- "What's at The Hive?"
- "Cheap Western food with short queue"

### 🔧 技术特点

#### 数据支持
- 基于 **58家餐厅/档口** 的真实数据
- 包含 **163个菜单项目**
- 覆盖多个校园食堂和美食广场
- 价格范围：$1 - $30

#### 智能处理
- 自动解析用户意图（预算、口味、位置等）
- 正则表达式提取结构化信息
- 模拟实时排队数据（0-30分钟）
- Markdown 格式自动清理，纯文本输出

#### 可扩展性
- 易于添加新餐厅数据
- 支持多语言扩展
- 可自定义推荐算法
- API 接口模块化设计

---

## 📊 系统二：商家营业报告系统

### 👔 目标用户
- 餐厅老板、经理
- 食堂管理者
- 商业决策者
- 需要数据分析支持的运营人员

### ✨ 核心功能

#### 1. **安全登录系统**
- 密码保护访问（默认密码：111）
- 每个餐厅独立登录
- 防止未授权访问数据
- 登出功能保护隐私

#### 2. **灵活的时间周期选择**
- **月份选择**：覆盖2025年全年12个月
  - January 2025 ~ December 2025
- **周次选择**：每月4周可选
  - Week 1 (1-7日)
  - Week 2 (8-14日)
  - Week 3 (15-21日)
  - Week 4 (22-28日)
- 默认选择当前月份

#### 3. **全面的业务数据展示**

##### 📈 核心指标卡片
- **总销量**：当期销售总数量（单位数）
- **总营业额**：当期总收入（美元）
- **平均增长率**：相比上周的增长百分比
- **最畅销菜品**：销量冠军产品

##### 📋 详细销售数据表
- **菜品名称**：所有在售产品
- **本周销量**：当前周期销售数据
- **上周销量**：对比基准数据
- **增长率**：百分比变化（正负标识）
- **营业额**：各产品贡献的收入
- 颜色标识：增长为绿色，下降为红色

#### 4. **AI 经营分析报告**

##### 报告结构（Markdown 格式化）

**1. Sales Performance Summary（销售表现总结）**
- 总体表现评价
- 关键数据解读
- 同比环比分析
- 表现亮点和问题点

**2. Dish Performance Analysis（菜品表现分析）**
- **Top Performers**：表现优秀的产品
  - 销量数据
  - 增长原因分析
  - 市场反馈
- **Underperformers**：需要改进的产品
  - 下滑原因分析
  - 改进建议

**3. Strategic Recommendations（经营建议）**
- **Inventory（库存管理）**：
  - 增加备货的产品
  - 减少库存的产品
  - 采购优化建议
- **Menu（菜单优化）**：
  - 新品建议
  - 淘汰建议
  - 组合套餐建议
- **Marketing（营销策略）**：
  - 促销活动建议
  - 目标客群定位
  - 推广渠道建议
- **Pricing（定价策略）**：
  - 价格调整建议
  - 竞争分析
  - 利润优化

**4. Next Period Forecast（下期预测）**
- 销量趋势预测
- 需要关注的事项
- 行动清单（Action Items）

##### 格式特点
- **标题层级分明**：使用 ## 和 ### 标记
- **关键信息加粗**：重要数据和建议用 **粗体** 突出
- **项目列表清晰**：使用 - 列表符号
- **易读易懂**：专业但通俗的语言

#### 5. **数据可视化**

##### 统计卡片可视化
- 渐变色背景（紫色主题）
- 大字体数值显示
- 清晰的标签说明
- 响应式网格布局

##### 数据表格可视化
- 专业的表格设计
- 悬停高亮效果
- 增长率颜色编码
- 易于扫描阅读

#### 6. **用户体验优化**

##### 界面设计
- 现代化渐变紫色主题
- 响应式设计（适配各种屏幕）
- 圆角卡片设计
- 阴影效果增强层次感

##### 交互设计
- 平滑滚动到报告区域
- 加载动画提示
- 按钮悬停动画效果
- 一键重新生成报告

##### 信息架构
- 登录页面简洁明了
- 主控制面板功能清晰
- 报告分段展示，层次分明
- 登出按钮位置醒目

#### 7. **报告生成流程**

1. **选择餐厅** → 输入密码登录
2. **选择时间** → 月份 + 周次
3. **点击生成** → 触发数据计算
4. **展示数据** → 统计卡片 + 数据表格
5. **AI 分析** → 调用 Deepseek API
6. **格式化显示** → Markdown 转 HTML
7. **可重新生成** → 点击刷新按钮

### 🔧 技术特点

#### 前端技术
- 纯静态 HTML/CSS/JavaScript
- 无需后端服务器部署
- 本地 HTTP 服务器运行
- 渐进式加载体验

#### 数据处理
- 动态生成模拟销售数据
- 自动计算增长率和营业额
- 智能统计汇总
- 实时数据刷新

#### AI 集成
- Deepseek API 调用
- 专业 prompt 工程
- Markdown 解析和渲染
- 错误处理和降级

#### 安全性
- 密码保护机制
- API Key 不在界面显示
- 本地运行，数据不上传
- 登出清除状态

---

## 📊 两系统对比

| 特性 | Telegram Bot | 商家报告系统 |
|------|-------------|-------------|
| **用户群体** | C端用户（消费者） | B端用户（商家） |
| **使用场景** | 找餐厅、点餐决策 | 运营分析、决策支持 |
| **交互方式** | 聊天对话 | Web界面点击 |
| **数据类型** | 餐厅信息、推荐 | 销售数据、分析报告 |
| **响应速度** | 秒级 | 2-5秒（含AI生成） |
| **更新频率** | 实时 | 按周期生成 |
| **访问方式** | Telegram App | Web浏览器 |
| **语言支持** | 中英文自动识别 | 全英文 |
| **数据展示** | 简洁文本 | 图表+表格+报告 |
| **个性化** | 基于查询定制 | 基于时间周期 |

---

## 🎯 共同特点

### 1. **共享数据源**
- 两系统使用同一份 `restaurants.json`
- 58家餐厅/档口数据
- 163个菜单项目
- 统一的数据结构

### 2. **AI 驱动**
- 都使用 Deepseek LLM
- 智能分析和生成
- 自然语言处理
- 上下文理解能力

### 3. **多语言支持**
- Bot：中英文双语
- Report：英文界面
- 数据：多语言字段

### 4. **易于维护**
- 模块化代码结构
- 清晰的文档说明
- 配置文件分离
- 便于扩展升级

### 5. **用户友好**
- 直观的交互设计
- 清晰的信息展示
- 快速的响应时间
- 完善的错误处理

---

## 🚀 使用场景举例

### Telegram Bot 场景

#### 场景1：学生午餐时间
> "我现在在图书馆，想找个近的、便宜的地方吃午饭，不要太辣"

**Bot 回复：**
> 推荐你去 North Spine Food Court 的 Student Cafeteria，就在图书馆附近走路5分钟。主要是便宜实惠，6-8块钱就能吃饱，他们家的番茄炒蛋饭和青椒肉丝都不辣，味道清淡适合你。现在排队大概5分钟，直接过去就行。

#### 场景2：国际学生找清真餐厅
> "I need halal food, budget around 10 dollars"

**Bot 回复：**
> I'd recommend The Halal Corner at North Spine Plaza - it's certified halal and perfect for your budget at around $8-10 per person. Try their chicken biryani or lamb kebab, both are really popular. There's about a 10-minute wait right now, which is reasonable for lunch time.

### 商家报告系统场景

#### 场景1：周例会数据展示
老板登录系统，选择"October 2025 - Week 2"，生成报告：

**看到数据：**
- 本周销量：456单
- 营业额：$4,230
- 增长率：+12.5%
- 最畅销：鸡肉饭（85单）

**AI 分析摘要：**
> 本周表现强劲，销量和营业额均超预期。鸡肉饭持续热销，建议增加备货。咖喱鸡饭增长25%，可考虑加大推广力度。素食选项销量下滑，建议优化菜品口味或推出新品...

#### 场景2：季度规划决策
经理查看过去4周数据趋势：
- Week 1：+5%
- Week 2：+12%
- Week 3：+8%
- Week 4：+15%

**基于 AI 建议：**
- 扩大高增长产品产能
- 调整价格策略
- 推出组合套餐
- 增加营销投入

---

## 💡 扩展可能性

### Telegram Bot 未来功能
- 📸 图片识别：拍照识别菜品
- ⭐ 用户评分：收集用户反馈
- 💾 收藏功能：保存喜欢的餐厅
- 📍 导航功能：地图导航到餐厅
- 🔔 通知推送：优惠活动提醒
- 👥 社交分享：推荐给朋友

### 商家报告系统未来功能
- 📧 邮件报告：自动发送周报
- 📊 高级图表：更多可视化选项
- 📈 趋势预测：机器学习预测
- 💰 成本分析：利润率计算
- 👥 客户分析：用户画像
- 🏆 竞品对比：市场竞争分析
- 📱 移动端优化：响应式设计
- 📄 PDF导出：下载报告文件

---

## 📞 技术支持

### 文档资源
- `README.md` - 项目总览
- `SYSTEM_GUIDE.md` - 双系统使用指南
- `FEATURES.md` - 本功能总结文档（当前文件）
- `UPDATE_LOG.md` - 更新历史记录
- `Vendor/README.md` - 商家系统专用文档

### 配置文件
- `config.py` - API密钥配置
- `requirements.txt` - Python依赖包
- `restaurants.json` - 餐厅数据

### 启动脚本
- `START_BOT.sh` - 启动Telegram Bot
- `Vendor/start_report_server.sh` - 启动报告系统

---

**最后更新**: 2025年10月17日  
**系统版本**: v2.0  
**数据版本**: 58家餐厅，163个菜单项

